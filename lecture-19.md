# Обработка ошибок

1. **Hardware** – можно пытаться поймать ошибки через хешсуммы, или дублируются вычислители.
Их проигнирируем.
1. **Compile-time** errors – предпочитаем их ошибкам времени исполнения: 
типизация, static assert (проверяется на этапе компиляции), не используем type cast 
1. **Invariant violations** – некорректность программы (например, передали неотсортированный массив в бинпоиск)
1. **Environment** errors - ошибка при штатном исполнении программы, она должна обработать (например, закончилось место на диске)

### Что делать в случае ошибки
* завершить работу
* передать вызывающей стороне (далее зависит от программы и контекста)
* игнорировать
* (логгирование – дополнительная опция)

Иногда ошибки аллокации памяти не стоит пытаться ловить. Так делает, например, Firefox.
Но такое не всегда можно делать, потому что не любую программу легко перезапустить.

Unix-подобные системы умеют сохранять состояния программ, которые завершаются с ошибкой, в файл – _core dump_.
`ulimit -c unlimited` применяется к процессу и его детям. Это используется для отладки.

## Build configurations

* debug
* release

Работают одинаково для ошибок окружения. Различия в обработке ошибок инварианта.

Иногда выделяют больше градаций, если проверки дорогие.

Аргумент макроса `assert` не будет вычисляться в `release`, поэтому нельзя там писать функции с side-effect.

