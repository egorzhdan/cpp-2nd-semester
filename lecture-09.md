## Абстракция данных

```cpp
struct string {
    void clear() { /* ... */ }
    
private:
    char* data;
    size_t size;
}

string s;
s.clear();
```

Функции хочется писать внутри структур, а не снаружи, из-за приватных полей.

Если работая с данными можно испортить инвариант класса, то лучше использовать `private`.

```cpp
struct complex {
    float re;
    float im;
}
```

`struct` эквивалентна `class`, у которого все поля и методы `public`.

**Конструкторы**: не пишется возвращаемое значение, имя совпадает с именем классов.

Способы создания:
* объявить переменную типа
* создать временный объект: `f(complex(1.3f, 1.4f))`

Парная операция – **деструктор**.
```cpp
struct string {
    // ...
    
    ~string() {
        
    }
}
```

Вызывается при выходе из области видимости, в случае нескольких объектов – в порядке стека.

**Операторы**:

```cpp
complex operator+(complex a, complex b) {
    return complex(a.re + b.re, a.im + b.im);
}
```

Ссылки: похожи на указатели.
```cpp
int* p = &a; *p = 5; p = b // указатель
int& r = a; p = 5 // ссылка
```

Операторы могут быть написаны внутри классов.

```cpp
complex& operator+=(complex& a, complex b) {
    a.im += b.im;
    a.re += b.re;
    return a;
}
```

`lvalue` – выражения, которые могут стоять слева от знака равенства (переменные, неконстантные),
`rvalue` – справа (числа)

Все суффиксные операторы имеют приоритет больший, чем префиксный, поэтому `++d++` не будет компилироваться.

Когда функция принимает ссылку, то она может быть только `lvalue`.

Ключевое слово `const`
